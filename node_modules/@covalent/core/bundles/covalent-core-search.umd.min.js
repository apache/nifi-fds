!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/material/input"),require("@angular/material/icon"),require("@angular/material/button"),require("@angular/animations"),require("@angular/cdk/bidi"),require("rxjs/operators"),require("@covalent/core/common")):"function"==typeof define&&define.amd?define("@covalent/core/search",["exports","@angular/core","@angular/common","@angular/forms","@angular/material/input","@angular/material/icon","@angular/material/button","@angular/animations","@angular/cdk/bidi","rxjs/operators","@covalent/core/common"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).covalent=e.covalent||{},e.covalent.core=e.covalent.core||{},e.covalent.core.search={}),e.ng.core,e.ng.common,e.ng.forms,e.ng.material.input,e.ng.material.icon,e.ng.material.button,e.ng.animations,e.ng.cdk.bidi,e.rxjs.operators,e.covalent.core.common)}(this,(function(e,t,n,a,r,i,o,c,l,s,p){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function d(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create;var m=function(e){this._changeDetectorRef=e};var h=p.mixinControlValueAccessor(m),f=function(e){function n(n,a){var r=e.call(this,a)||this;return r._dir=n,r.showUnderline=!1,r.debounce=400,r.clearIcon="cancel",r.searchDebounce=new t.EventEmitter,r.search=new t.EventEmitter,r.clear=new t.EventEmitter,r.blur=new t.EventEmitter,r}return d(n,e),Object.defineProperty(n.prototype,"isRTL",{get:function(){return!!this._dir&&"rtl"===this._dir.dir},enumerable:!1,configurable:!0}),n.prototype.ngOnInit=function(){var e=this;this._input.ngControl.valueChanges.pipe(s.debounceTime(this.debounce),s.skip(1)).subscribe((function(t){e._searchTermChanged(t)}))},n.prototype.focus=function(){this._input.focus()},n.prototype.handleBlur=function(){this.blur.emit()},n.prototype.stopPropagation=function(e){e.stopPropagation()},n.prototype.handleSearch=function(e){this.stopPropagation(e),this.search.emit(this.value)},n.prototype.clearSearch=function(){this.value="",this._changeDetectorRef.markForCheck(),this.clear.emit()},n.prototype._searchTermChanged=function(e){this.searchDebounce.emit(e)},n}(h);f.decorators=[{type:t.Component,args:[{providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return f})),multi:!0}],selector:"td-search-input",template:'<div class="td-search-input">\n  <mat-form-field\n    class="td-search-input-field"\n    [class.mat-hide-underline]="!showUnderline"\n    [appearance]="appearance"\n    floatLabel="never"\n  >\n    <input\n      matInput\n      #searchElement\n      type="search"\n      [(ngModel)]="value"\n      [placeholder]="placeholder"\n      (blur)="handleBlur()"\n      (search)="stopPropagation($event)"\n      (keyup.enter)="handleSearch($event)"\n    />\n    <span matSuffix *ngIf="appearance === \'fill\' || appearance === \'outline\' || appearance === \'standard\'">\n      <ng-template [ngTemplateOutlet]="clearButton"></ng-template>\n    </span>\n  </mat-form-field>\n  <ng-template *ngIf="!appearance || appearance === \'legacy\'" [ngTemplateOutlet]="clearButton"></ng-template>\n</div>\n<ng-template #clearButton>\n  <button\n    mat-icon-button\n    class="td-search-input-clear"\n    type="button"\n    [@searchState]="searchElement.value ? \'show\' : isRTL ? \'hide-left\' : \'hide-right\'"\n    (click)="clearSearch()"\n  >\n    <mat-icon>{{ clearIcon }}</mat-icon>\n  </button>\n</ng-template>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,inputs:["value"],animations:[c.trigger("searchState",[c.state("hide-left",c.style({transform:"translateX(-150%)",display:"none"})),c.state("hide-right",c.style({transform:"translateX(150%)",display:"none"})),c.state("show",c.style({transform:"translateX(0%)",display:"block"})),c.transition("* => show",c.animate("200ms ease-in")),c.transition("show => *",c.animate("200ms ease-out"))])],styles:[":host .td-search-input{-ms-flex-align:baseline;-ms-flex-direction:row;-ms-flex-line-pack:center;-ms-flex-pack:end;align-content:center;align-items:baseline;box-sizing:border-box;display:-ms-flexbox;display:flex;flex-direction:row;justify-content:flex-end;max-width:100%;overflow-x:hidden}:host .td-search-input .td-search-input-field{-ms-flex:1;flex:1}:host .td-search-input ::ng-deep mat-form-field.mat-form-field-appearance-fill .mat-form-field-wrapper,:host .td-search-input ::ng-deep mat-form-field.mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0}:host .td-search-input ::ng-deep mat-form-field.mat-form-field-appearance-fill .mat-form-field-wrapper .mat-form-field-flex{height:52px}:host .td-search-input ::ng-deep mat-form-field.mat-form-field-appearance-fill .mat-form-field-wrapper .mat-form-field-underline{bottom:0}:host .td-search-input ::ng-deep mat-form-field.mat-form-field-appearance-standard .mat-form-field-wrapper{padding-bottom:0}:host .td-search-input ::ng-deep mat-form-field.mat-form-field-appearance-standard .mat-form-field-wrapper .mat-form-field-infix{bottom:.4em}:host .td-search-input ::ng-deep mat-form-field.mat-form-field-appearance-standard .mat-form-field-wrapper .mat-form-field-underline{bottom:0}:host .td-search-input ::ng-deep mat-form-field.mat-form-field-appearance-legacy .mat-form-field-infix{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}:host .td-search-input ::ng-deep mat-form-field .mat-input-element{caret-color:currentColor}:host .td-search-input ::ng-deep mat-form-field.mat-hide-underline .mat-form-field-underline{display:none}:host .td-search-input .td-search-input-clear{-ms-flex:0 0 auto;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;flex:0 0 auto}"]}]}],f.ctorParameters=function(){return[{type:l.Dir,decorators:[{type:t.Optional}]},{type:t.ChangeDetectorRef}]},f.propDecorators={_input:[{type:t.ViewChild,args:[r.MatInput,{static:!0}]}],appearance:[{type:t.Input}],showUnderline:[{type:t.Input}],debounce:[{type:t.Input}],placeholder:[{type:t.Input}],clearIcon:[{type:t.Input}],searchDebounce:[{type:t.Output}],search:[{type:t.Output}],clear:[{type:t.Output}],blur:[{type:t.Output}]};var g=function(e){this._changeDetectorRef=e};var b=p.mixinControlValueAccessor(g),y=function(e){function n(n){var a=e.call(this,n)||this;return a._searchVisible=!1,a.backIcon="search",a.searchIcon="search",a.clearIcon="cancel",a.showUnderline=!1,a.debounce=400,a.alwaysVisible=!1,a.searchDebounce=new t.EventEmitter,a.search=new t.EventEmitter,a.clear=new t.EventEmitter,a.blur=new t.EventEmitter,a}return d(n,e),Object.defineProperty(n.prototype,"searchVisible",{get:function(){return this._searchVisible},enumerable:!1,configurable:!0}),n.prototype.searchClicked=function(){!this.alwaysVisible&&this._searchVisible?(this.value="",this.handleClear()):!this.alwaysVisible&&this._searchVisible||this._searchInput.focus(),this.toggleVisibility()},n.prototype.toggleVisibility=function(){this._searchVisible=!this._searchVisible,this._changeDetectorRef.markForCheck()},n.prototype.handleSearchDebounce=function(e){this.searchDebounce.emit(e)},n.prototype.handleSearch=function(e){this.search.emit(e)},n.prototype.handleClear=function(){this.clear.emit()},n.prototype.handleBlur=function(){this.blur.emit()},n}(b);y.decorators=[{type:t.Component,args:[{providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return y})),multi:!0}],selector:"td-search-box",template:'<div class="td-search-box">\n  <button mat-icon-button type="button" class="td-search-icon" (click)="searchClicked()">\n    <mat-icon *ngIf="searchVisible && !alwaysVisible">{{ backIcon }}</mat-icon>\n    <mat-icon *ngIf="!searchVisible || alwaysVisible">{{ searchIcon }}</mat-icon>\n  </button>\n  <td-search-input\n    #searchInput\n    [@inputState]="alwaysVisible || searchVisible"\n    [debounce]="debounce"\n    [(ngModel)]="value"\n    [showUnderline]="showUnderline"\n    [placeholder]="placeholder"\n    [clearIcon]="clearIcon"\n    (searchDebounce)="handleSearchDebounce($event)"\n    (search)="handleSearch($event)"\n    (clear)="handleClear(); toggleVisibility()"\n    (blur)="handleBlur()"\n  ></td-search-input>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,inputs:["value"],animations:[c.trigger("inputState",[c.state("0",c.style({width:"0%",margin:"0px"})),c.state("1",c.style({width:"100%",margin:c.AUTO_STYLE})),c.transition("0 => 1",c.animate("200ms ease-in")),c.transition("1 => 0",c.animate("200ms ease-out"))])],styles:[":host{display:block}.td-search-box{-ms-flex-align:baseline;-ms-flex-direction:row;-ms-flex-line-pack:center;-ms-flex-pack:end;align-content:center;align-items:baseline;box-sizing:border-box;display:-ms-flexbox;display:flex;flex-direction:row;justify-content:flex-end;max-width:100%}.td-search-box .td-search-icon{-ms-flex:0 0 auto;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;flex:0 0 auto}.td-search-box td-search-input{margin-left:12px}::ng-deep [dir=rtl] .td-search-box td-search-input{margin-left:0!important;margin-right:12px}.td-search-box td-search-input ::ng-deep .mat-form.field.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1em}"]}]}],y.ctorParameters=function(){return[{type:t.ChangeDetectorRef}]},y.propDecorators={_searchInput:[{type:t.ViewChild,args:[f,{static:!0}]}],backIcon:[{type:t.Input}],searchIcon:[{type:t.Input}],clearIcon:[{type:t.Input}],showUnderline:[{type:t.Input}],debounce:[{type:t.Input}],alwaysVisible:[{type:t.Input}],placeholder:[{type:t.Input}],searchDebounce:[{type:t.Output}],search:[{type:t.Output}],clear:[{type:t.Output}],blur:[{type:t.Output}]};var x=function(){};x.decorators=[{type:t.NgModule,args:[{imports:[a.FormsModule,n.CommonModule,r.MatInputModule,i.MatIconModule,o.MatButtonModule],declarations:[f,y],exports:[f,y]}]}],e.CovalentSearchModule=x,e.TdSearchBoxBase=g,e.TdSearchBoxComponent=y,e.TdSearchInputBase=m,e.TdSearchInputComponent=f,e._TdSearchBoxMixinBase=b,e._TdSearchInputMixinBase=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=covalent-core-search.umd.min.js.map