!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/material/checkbox"),require("@angular/material/tooltip"),require("@angular/material/icon"),require("@angular/material/core"),require("@angular/platform-browser"),require("@angular/forms"),require("@angular/cdk/coercion"),require("@angular/cdk/keycodes"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/portal"),require("@covalent/core/common")):"function"==typeof define&&define.amd?define("@covalent/core/data-table",["exports","@angular/core","@angular/common","@angular/material/checkbox","@angular/material/tooltip","@angular/material/icon","@angular/material/core","@angular/platform-browser","@angular/forms","@angular/cdk/coercion","@angular/cdk/keycodes","rxjs","rxjs/operators","@angular/cdk/portal","@covalent/core/common"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).covalent=t.covalent||{},t.covalent.core=t.covalent.core||{},t.covalent.core["data-table"]={}),t.ng.core,t.ng.common,t.ng.material.checkbox,t.ng.material.tooltip,t.ng.material.icon,t.ng.material.core,t.ng.platformBrowser,t.ng.forms,t.ng.cdk.coercion,t.ng.cdk.keycodes,t.rxjs,t.rxjs.operators,t.ng.cdk.portal,t.covalent.core.common)}(this,(function(t,e,i,n,r,a,o,l,s,d,c,h,u,m,b){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function f(t,e){function i(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}Object.create;function g(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var _=function(t,e){this._elementRef=t,this._renderer=e,this._renderer.addClass(this._elementRef.nativeElement,"td-data-table-column-row")};_.decorators=[{type:e.Component,args:[{selector:"tr[td-data-table-column-row]",template:"<ng-content></ng-content>\n",styles:[":host{border-bottom-style:solid;border-bottom-width:1px}:host.td-data-table-row{height:48px}:host.td-data-table-column-row{height:56px}"]}]}],_.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]};var y=function(){function t(t,e){this._elementRef=t,this._renderer=e,this._selected=!1,this._renderer.addClass(this._elementRef.nativeElement,"td-data-table-row")}return Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){t?this._renderer.addClass(this._elementRef.nativeElement,"td-selected"):this._renderer.removeClass(this._elementRef.nativeElement,"td-selected"),this._selected=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=48;return this._elementRef.nativeElement&&(t=this._elementRef.nativeElement.getBoundingClientRect().height),t},enumerable:!1,configurable:!0}),t.prototype.clickListener=function(){this.focus()},t.prototype.focus=function(){this._elementRef.nativeElement.focus()},t}();y.decorators=[{type:e.Component,args:[{selector:"tr[td-data-table-row]",template:"<ng-content></ng-content>\n",styles:[":host{border-bottom-style:solid;border-bottom-width:1px}:host.td-data-table-row{height:48px}:host.td-data-table-column-row{height:56px}"]}]}],y.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},y.propDecorators={selected:[{type:e.Input,args:["selected"]}],clickListener:[{type:e.HostListener,args:["click"]}]};var v=function(t){function e(e,i){return t.call(this,e,i)||this}return f(e,t),e}(m.TemplatePortalDirective);v.decorators=[{type:e.Directive,args:[{selector:"[tdDataTableTemplate]ng-template"}]}],v.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ViewContainerRef}]},v.propDecorators={tdDataTableTemplate:[{type:e.Input}]};var w={Ascending:"ASC",Descending:"DESC"};var x=function(t){this._changeDetectorRef=t};var C=b.mixinControlValueAccessor(x,[]),k=function(t){function i(i,n,r,a){var o=t.call(this,a)||this;return o._document=i,o._elementRef=n,o._domSanitizer=r,o._hostWidth=0,o._resizableColumns=!1,o._columnClientX=0,o._onColumnResize=new h.Subject,o._widths=[],o._onResize=new h.Subject,o._scrollHorizontalOffset=0,o._onHorizontalScroll=new h.Subject,o._onVerticalScroll=new h.Subject,o._rowHeightCache=[],o._totalHeight=0,o._hostHeight=0,o._scrollVerticalOffset=0,o._fromRow=0,o._toRow=0,o._selectable=!1,o._clickable=!1,o._multiple=!0,o._allSelected=!1,o._indeterminate=!1,o._sortable=!1,o._sortOrder=w.Ascending,o._shiftPreviouslyPressed=!1,o._lastSelectedIndex=-1,o._firstSelectedIndex=-1,o._firstCheckboxValue=!1,o._templateMap=new Map,o.sortChange=new e.EventEmitter,o.rowSelect=new e.EventEmitter,o.rowClick=new e.EventEmitter,o.selectAll=new e.EventEmitter,o.compareWith=function(t,e){return t===e},o}return f(i,t),Object.defineProperty(i.prototype,"resizingColumn",{get:function(){return this._resizingColumn},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hostWidth",{get:function(){return this.selectable?this._hostWidth-42:this._hostWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offsetTransform",{get:function(){return this._offsetTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"totalHeight",{get:function(){return this._totalHeight},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fromRow",{get:function(){return this._fromRow},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"toRow",{get:function(){return this._toRow},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnsLeftScroll",{get:function(){return-1*this._scrollHorizontalOffset},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"allSelected",{get:function(){return this._allSelected},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"indeterminate",{get:function(){return this._indeterminate},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(t){var e=this;this._data=t,this._rowHeightCache=[],Promise.resolve().then((function(){e.refresh(),e._scrollableDiv.nativeElement.scrollTop=0}))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"virtualData",{get:function(){return this._virtualData},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columns",{get:function(){var t=this;if(this._columns)return this._columns;if(this.hasData){this._columns=[];var e=this._data[0];return Object.keys(e).forEach((function(e){t._columns.find((function(t){return t.name===e}))||t._columns.push({name:e,label:e})})),this._columns}return[]},set:function(t){this._columns=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resizableColumns",{get:function(){return this._resizableColumns},set:function(t){this._resizableColumns=d.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectable",{get:function(){return this._selectable},set:function(t){this._selectable=d.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clickable",{get:function(){return this._clickable},set:function(t){this._clickable=d.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"multiple",{get:function(){return this._multiple},set:function(t){this._multiple=d.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sortable",{get:function(){return this._sortable},set:function(t){this._sortable=d.coerceBooleanProperty(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sortBy",{set:function(t){if(t){var e=this.columns.find((function(e){return e.name===t}));if(!e)throw new Error("[sortBy] must be a valid column name");this._sortBy=e}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sortByColumn",{get:function(){return this._sortBy},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sortOrder",{set:function(t){var e=t?t.toUpperCase():"ASC";if("DESC"!==e&&"ASC"!==e)throw new Error("[sortOrder] must be empty, ASC or DESC");this._sortOrder="ASC"===e?w.Ascending:w.Descending},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sortOrderEnum",{get:function(){return this._sortOrder},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasData",{get:function(){return this._data&&this._data.length>0},enumerable:!1,configurable:!0}),i.prototype.ngOnInit=function(){var t=this;this._resizeSubs=this._onResize.asObservable().subscribe((function(){t._rows&&t._rows.toArray().forEach((function(e,i){t._rowHeightCache[t.fromRow+i]=e.height+1})),t._calculateWidths(),t._calculateVirtualRows()})),this._columnResizeSubs=this._onColumnResize.asObservable().pipe(u.debounceTime(0)).subscribe((function(e){t._columnClientX=e,t._calculateWidths(),t._changeDetectorRef.markForCheck()})),this._horizontalScrollSubs=this._onHorizontalScroll.asObservable().subscribe((function(e){t._scrollHorizontalOffset=e,t._changeDetectorRef.markForCheck()})),this._verticalScrollSubs=this._onVerticalScroll.asObservable().subscribe((function(e){t._scrollVerticalOffset=e,t._calculateVirtualRows(),t._changeDetectorRef.markForCheck()})),this._valueChangesSubs=this.valueChanges.subscribe((function(e){t.refresh()}))},i.prototype.ngAfterContentInit=function(){var t,e;try{for(var i=g(this._templates.toArray()),n=i.next();!n.done;n=i.next()){var r=n.value;this._templateMap.set(r.tdDataTableTemplate,r.templateRef)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},i.prototype.ngAfterContentChecked=function(){var t=this;if(this._scrollVerticalOffset-this._scrollableDiv.nativeElement.scrollTop>5&&this._onVerticalScroll.next(0),this._elementRef.nativeElement){var e=this._elementRef.nativeElement.getBoundingClientRect().width;this._hostWidth!==e&&setTimeout((function(){t._hostWidth=e,t._onResize.next()}),0)}if(this._scrollableDiv.nativeElement){var i=this._scrollableDiv.nativeElement.getBoundingClientRect().height;this._hostHeight!==i&&(this._hostHeight=i,this._calculateVirtualRows(),this._changeDetectorRef.markForCheck())}},i.prototype.ngAfterViewInit=function(){var t=this;this._rowsChangedSubs=this._rows.changes.pipe(u.debounceTime(0)).subscribe((function(){t._onResize.next()})),this._calculateVirtualRows()},i.prototype.ngOnDestroy=function(){this._resizeSubs&&this._resizeSubs.unsubscribe(),this._columnResizeSubs&&this._columnResizeSubs.unsubscribe(),this._horizontalScrollSubs&&this._horizontalScrollSubs.unsubscribe(),this._verticalScrollSubs&&this._verticalScrollSubs.unsubscribe(),this._rowsChangedSubs&&this._rowsChangedSubs.unsubscribe(),this._valueChangesSubs&&this._valueChangesSubs.unsubscribe()},i.prototype.handleScroll=function(t){var e=t.target;if(e){var i=e.scrollLeft;this._scrollHorizontalOffset!==i&&this._onHorizontalScroll.next(i);var n=e.scrollTop;this._scrollVerticalOffset!==n&&this._onVerticalScroll.next(n)}},i.prototype.getColumnWidth=function(t){if(this._widths[t])return this._widths[t].value},i.prototype.getCellValue=function(t,e){return void 0===t.nested||t.nested?this._getNestedValue(t.name,e):e[t.name]},i.prototype.getTemplateRef=function(t){return this._templateMap.get(t)},i.prototype.clearModel=function(){this.value.splice(0,this.value.length)},i.prototype.refresh=function(){this._calculateVirtualRows(),this._calculateWidths(),this._calculateCheckboxState(),this._changeDetectorRef.markForCheck()},i.prototype._selectAll=function(t){var e=this,i=[];t?(this._data.forEach((function(t){e.isRowSelected(t)||(e.value.push(t),i.push(t))})),this._allSelected=!0,this._indeterminate=!0):(this._data.forEach((function(t){if(e.isRowSelected(t)){i.push(t);var n=e.value.filter((function(i){return e.compareWith(t,i)}))[0],r=e.value.indexOf(n);r>-1&&e.value.splice(r,1)}})),this._allSelected=!1,this._indeterminate=!1),this.selectAll.emit({rows:i,selected:t}),this.onChange(this.value)},i.prototype.isRowSelected=function(t){var e=this;return!!this.value&&this.value.filter((function(i){return e.compareWith(t,i)})).length>0},i.prototype.select=function(t,e,i){if(this.selectable){this.blockEvent(e);var n=e;if(this.multiple&&n&&n.shiftKey&&this._lastSelectedIndex>-1){var r=i,a=this._lastSelectedIndex;if(i>this._lastSelectedIndex&&(r=this._lastSelectedIndex,a=i),this._firstSelectedIndex>=i&&this._lastSelectedIndex>this._firstSelectedIndex||this._firstSelectedIndex<=i&&this._lastSelectedIndex<this._firstSelectedIndex)for(var o=r;o<=a;o++)this._firstSelectedIndex!==o&&this._doSelection(this._data[o],o);else if(this._firstSelectedIndex>i||this._firstSelectedIndex<i){this._firstSelectedIndex>i?a--:this._firstSelectedIndex<i&&r++;for(o=r;o<=a;o++){var l=this.isRowSelected(this._data[o]);(this._firstCheckboxValue&&!l||!this._firstCheckboxValue&&l||this._shiftPreviouslyPressed&&(i>=this._firstSelectedIndex&&i<=this._lastSelectedIndex||i<=this._firstSelectedIndex&&i>=this._lastSelectedIndex))&&this._doSelection(this._data[o],o)}}this._shiftPreviouslyPressed=!0}else n&&!n.shiftKey&&(this._firstCheckboxValue=this._doSelection(t,i),this._shiftPreviouslyPressed=!1,this._firstSelectedIndex=i);this._lastSelectedIndex=i}},i.prototype.disableTextSelection=function(){this._document&&(this._document.onselectstart=function(){return!1})},i.prototype.enableTextSelection=function(){this._document&&(this._document.onselectstart=void 0)},i.prototype.handleRowClick=function(t,e,i){if(this.clickable){var n=i.srcElement||i.currentTarget,r=i.target;null===n.getAttribute("stopRowClick")&&"mat-pseudo-checkbox"!==r.tagName.toLowerCase()&&this.rowClick.emit({row:t,index:e})}},i.prototype.handleSort=function(t){this._sortBy===t?this._sortOrder=this._sortOrder===w.Ascending?w.Descending:w.Ascending:(this._sortBy=t,this._sortOrder=w.Ascending),this.sortChange.next({name:this._sortBy.name,order:this._sortOrder})},i.prototype._rowKeyup=function(t,e,i){switch(t.keyCode){case c.ENTER:case c.SPACE:this.selectable&&this._doSelection(this._data[this.fromRow+i],this.fromRow+i);break;case c.UP_ARROW:i>0&&this._rows.toArray()[i-1].focus(),this.blockEvent(t),this.selectable&&this.multiple&&t.shiftKey&&this.fromRow+i>=0&&this._doSelection(this._data[this.fromRow+i],this.fromRow+i);break;case c.DOWN_ARROW:i<this._rows.toArray().length-1&&this._rows.toArray()[i+1].focus(),this.blockEvent(t),this.selectable&&this.multiple&&t.shiftKey&&this.fromRow+i<this._data.length&&this._doSelection(this._data[this.fromRow+i],this.fromRow+i)}},i.prototype._handleStartColumnDrag=function(t,e){this._columnClientX=e.clientX,this._resizingColumn=t},i.prototype._handleColumnDrag=function(t){if(void 0!==this._resizingColumn&&t.clientX>0){var e=t.clientX;if(e>0&&this._columnClientX>0&&e-this._columnClientX!=0){var i=this._widths[this._resizingColumn].value+(e-this._columnClientX);i<this._colElements.toArray()[this._resizingColumn].projectedWidth&&(i=this._colElements.toArray()[this._resizingColumn].projectedWidth),this.columns[this._resizingColumn].width=i,this._onColumnResize.next(e)}}},i.prototype._handleEndColumnDrag=function(){this._columnClientX=void 0,this._resizingColumn=void 0},i.prototype.blockEvent=function(t){t.preventDefault()},i.prototype._getNestedValue=function(t,e){if(!(e instanceof Object&&t))return e;if(t.indexOf(".")>-1){var i=t.split(/\.(.+)/,2);return this._getNestedValue(i[1],e[i[0]])}return e[t]},i.prototype._doSelection=function(t,e){var i=this,n=this.isRowSelected(t);if(n){t=this.value.filter((function(e){return i.compareWith(t,e)}))[0];var r=this.value.indexOf(t);r>-1&&this.value.splice(r,1)}else this._multiple||this.clearModel(),this.value.push(t);return this._calculateCheckboxState(),this.rowSelect.emit({row:t,index:e,selected:!n}),this.onChange(this.value),!n},i.prototype._calculateCheckboxState=function(){var t,e,i=this;if(this._data){this._allSelected=void 0===this._data.find((function(t){return!i.isRowSelected(t)})),this._indeterminate=!1;try{for(var n=g(this._data),r=n.next();!r.done;r=n.next()){var a=r.value;if(this.isRowSelected(a)){this._indeterminate=!0;break}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}},i.prototype._calculateWidths=function(){var t=this;this._colElements&&this._colElements.length&&(this._widths=[],this._colElements.forEach((function(e,i){t._adjustColumnWidth(i,t._calculateWidth())})),this._adjustColumnWidhts(),this._changeDetectorRef.markForCheck())},i.prototype._adjustColumnWidhts=function(){var t=this,e=0,i=this._widths.filter((function(i,n){return!t.columns[n].hidden&&((i.limit||i.max||i.min)&&(e+=i.value),!i.limit&&!i.max&&!i.min)})).length,n=0;if(e<this.hostWidth&&(n=this.hostWidth-e),i&&n){var r=Math.floor(n/i),a=0;this._widths.forEach((function(e){(t._widths[e.index].max&&t._widths[e.index].value>r||t._widths[e.index].min&&t._widths[e.index].value<r||!t._widths[e.index].limit)&&(t._adjustColumnWidth(e.index,r),a++)}));var o=this._widths.filter((function(t){return!t.limit&&!t.max})).length;o!==a&&o!==i&&this._adjustColumnWidhts()}},i.prototype._adjustColumnWidth=function(t,e){this._widths[t]={value:e,index:t,limit:!1,min:!1,max:!1};var i=!1;if(this.columns[t])if("object"==typeof this.columns[t].width){var n=this.columns[t].width;i=n&&!!n.min,n&&n.min>=this._widths[t].value?(this._widths[t].value=n.min,this._widths[t].min=!0):n&&n.max<=this._widths[t].value&&(this._widths[t].value=n.max,this._widths[t].max=!0)}else"number"==typeof this.columns[t].width&&(this._widths[t].value=this.columns[t].width,i=this._widths[t].limit=!0);!i&&this._widths[t].value<this._colElements.toArray()[t].projectedWidth&&(this._widths[t].value=this._colElements.toArray()[t].projectedWidth,this._widths[t].min=!0,this._widths[t].limit=!1)},i.prototype._calculateWidth=function(){var t=this.columns.filter((function(t){return!t.hidden}));return Math.floor(this.hostWidth/t.length)},i.prototype._calculateVirtualRows=function(){var t=this,e=0;if(this._data){this._totalHeight=0;var i=0;this._data.forEach((function(n,r){t._rowHeightCache[r]||(t._rowHeightCache[r]=t._rowHeightCache[0]||48),i+=t._rowHeightCache[r],t._scrollVerticalOffset-i>0&&e++})),this._totalHeight=i;var n=e-2;this._fromRow=n>0?n:0;for(var r=this._hostHeight,a=0;r>0;)r-=this._rowHeightCache[this.fromRow+a],a++;var o=a-1+4+this.fromRow;isFinite(o)&&o>this._data.length?o=this._data.length:isFinite(o)||(o=2),this._toRow=o}else this._totalHeight=0,this._fromRow=0,this._toRow=0;var l=0;if(e>2)for(a=0;a<this.fromRow;a++)l+=this._rowHeightCache[a];this._offsetTransform=this._domSanitizer.bypassSecurityTrustStyle("translateY("+(l-this.totalHeight)+"px)"),this._data&&(this._virtualData=this.data.slice(this.fromRow,this.toRow)),Promise.resolve().then((function(){t._changeDetectorRef.markForCheck()}))},i}(C);k.decorators=[{type:e.Component,args:[{providers:[{provide:s.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return k})),multi:!0}],selector:"td-data-table",template:'<table td-data-table [style.left.px]="columnsLeftScroll" [class.mat-selectable]="selectable">\n  <thead class="td-data-table-head" (dragover)="_handleColumnDrag($event)">\n    <tr td-data-table-column-row>\n      <th td-data-table-column class="mat-checkbox-column" *ngIf="selectable">\n        <mat-checkbox\n          #checkBoxAll\n          *ngIf="multiple"\n          [disabled]="!hasData"\n          [indeterminate]="indeterminate && !allSelected && hasData"\n          [checked]="allSelected && hasData"\n          (click)="blockEvent($event); _selectAll(!checkBoxAll.checked)"\n          (keyup.enter)="_selectAll(!checkBoxAll.checked)"\n          (keyup.space)="_selectAll(!checkBoxAll.checked)"\n          (keydown.space)="blockEvent($event)"\n        ></mat-checkbox>\n      </th>\n      <th\n        td-data-table-column\n        #columnElement\n        *ngFor="let column of columns; let i = index; let last = last"\n        [style.min-width.px]="getColumnWidth(i)"\n        [style.max-width.px]="getColumnWidth(i)"\n        [name]="column.name"\n        [numeric]="column.numeric"\n        [active]="(column.sortable || sortable) && column === sortByColumn"\n        [sortable]="column.sortable || (sortable && column.sortable !== false)"\n        [sortOrder]="sortOrderEnum"\n        [hidden]="column.hidden"\n        [isColumnSortOrder]="!!column.columnSortOrder"\n        (sortChange)="handleSort(column)"\n      >\n        <span [matTooltip]="column.tooltip" [class]="column.columnSortOrder ? \'td-table-header-label\' : \'\'">\n          {{ column.label }}\n          <span *ngIf="column.columnSortOrder" class="td-data-table-sort-badge">\n            {{ column.columnSortOrder || \'\' }}\n\n            <span\n              td-column-resizer\n              *ngIf="resizableColumns"\n              draggable="true"\n              class="td-data-table-column-resizer"\n              [class.td-resizing]="i === resizingColumn"\n              (mousedown)="_handleStartColumnDrag(i, $event)"\n              (dragstart)="$event?.dataTransfer?.setData(\'text\', \'\')"\n              (drag)="_handleColumnDrag($event)"\n              (dragend)="_handleEndColumnDrag()"\n              (mouseup)="_handleEndColumnDrag()"\n            >\n              <span class="td-data-table-column-separator"></span>\n            </span>\n          </span>\n        </span>\n      </th>\n    </tr>\n  </thead>\n</table>\n<div #scrollableDiv class="td-data-table-scrollable" (scroll)="handleScroll($event)">\n  <div [style.height.px]="totalHeight"></div>\n  <table\n    td-data-table\n    [style.transform]="offsetTransform"\n    [style.position]="\'absolute\'"\n    [class.mat-selectable]="selectable"\n    [class.mat-clickable]="clickable"\n  >\n    <tbody class="td-data-table-body">\n      <tr\n        td-data-table-row\n        #dtRow\n        [tabIndex]="selectable ? 0 : -1"\n        [selected]="(clickable || selectable) && isRowSelected(row)"\n        *ngFor="let row of virtualData; let rowIndex = index"\n        (click)="handleRowClick(row, fromRow + rowIndex, $event)"\n        (keyup)="selectable && _rowKeyup($event, row, rowIndex)"\n        (keydown.space)="blockEvent($event)"\n        (keydown.shift.space)="blockEvent($event)"\n        (keydown.shift)="disableTextSelection()"\n        (keyup.shift)="enableTextSelection()"\n      >\n        <td td-data-table-cell class="mat-checkbox-cell" *ngIf="selectable">\n          <mat-pseudo-checkbox\n            [state]="dtRow.selected ? \'checked\' : \'unchecked\'"\n            (mousedown)="disableTextSelection()"\n            (mouseup)="enableTextSelection()"\n            stopRowClick\n            (click)="select(row, $event, fromRow + rowIndex)"\n          ></mat-pseudo-checkbox>\n        </td>\n        <td\n          td-data-table-cell\n          [numeric]="column.numeric"\n          [hidden]="column.hidden"\n          *ngFor="let column of columns; let i = index"\n          [style.min-width.px]="getColumnWidth(i)"\n          [style.max-width.px]="getColumnWidth(i)"\n        >\n          <span *ngIf="!getTemplateRef(column.name)">\n            {{ column.format ? column.format(getCellValue(column, row)) : getCellValue(column, row) }}\n          </span>\n          <ng-template\n            *ngIf="getTemplateRef(column.name)"\n            [ngTemplateOutlet]="getTemplateRef(column.name)"\n            [ngTemplateOutletContext]="{\n              value: getCellValue(column, row),\n              row: row,\n              column: column.name,\n              index: rowIndex\n            }"\n          ></ng-template>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<ng-content></ng-content>\n',inputs:["value"],changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[".td-data-table-sort-badge{-ms-flex-align:center;-ms-flex-pack:center;align-items:center;border-radius:50%;display:-ms-flexbox;display:flex;height:16px;justify-content:center;margin-left:4px;width:16px}:host{display:block;overflow:hidden}:host .td-data-table-scrollable{height:calc(100% - 56px);overflow:auto;position:relative}.td-table-header-label{display:-ms-flexbox;display:flex}.td-data-table-column-resizer{cursor:col-resize;right:0;width:6px}.td-data-table-column-resizer,.td-data-table-column-resizer .td-data-table-column-separator{height:100%;position:absolute;top:0}.td-data-table-column-resizer .td-data-table-column-separator{left:2px}.td-data-table-column-resizer.td-resizing{cursor:-webkit-grabbing}table.td-data-table{width:auto!important}table.td-data-table.mat-selectable tbody>tr.td-data-table-row{transition:background-color .2s}table.td-data-table.mat-selectable .td-data-table-column:first-child>.td-data-table-column-content-wrapper,table.td-data-table.mat-selectable td.td-data-table-cell:first-child>.td-data-table-column-content-wrapper,table.td-data-table.mat-selectable th.td-data-table-column:first-child>.td-data-table-column-content-wrapper{min-width:18px;padding:0 24px;width:18px}table.td-data-table.mat-selectable .td-data-table-column:nth-child(2)>.td-data-table-column-content-wrapper,table.td-data-table.mat-selectable td.td-data-table-cell:nth-child(2)>.td-data-table-column-content-wrapper,table.td-data-table.mat-selectable th.td-data-table-column:nth-child(2)>.td-data-table-column-content-wrapper{padding-left:0}[dir=rtl] table.td-data-table.mat-selectable .td-data-table-column:nth-child(2)>.td-data-table-column-content-wrapper,[dir=rtl] table.td-data-table.mat-selectable td.td-data-table-cell:nth-child(2)>.td-data-table-column-content-wrapper,[dir=rtl] table.td-data-table.mat-selectable th.td-data-table-column:nth-child(2)>.td-data-table-column-content-wrapper{padding-left:28px;padding-right:0}table.td-data-table td.mat-checkbox-cell,table.td-data-table th.mat-checkbox-column{font-size:0!important;min-width:42px;width:42px}table.td-data-table td.mat-checkbox-cell mat-pseudo-checkbox,table.td-data-table th.mat-checkbox-column mat-pseudo-checkbox{height:18px;width:18px}::ng-deep table.td-data-table td.mat-checkbox-cell mat-pseudo-checkbox.mat-pseudo-checkbox-checked:after,::ng-deep table.td-data-table th.mat-checkbox-column mat-pseudo-checkbox.mat-pseudo-checkbox-checked:after{height:4px!important;width:11px!important}table.td-data-table td.mat-checkbox-cell mat-checkbox ::ng-deep .mat-checkbox-inner-container,table.td-data-table th.mat-checkbox-column mat-checkbox ::ng-deep .mat-checkbox-inner-container{height:18px;margin:0;width:18px}"]}]}],k.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[i.DOCUMENT]}]},{type:e.ElementRef},{type:l.DomSanitizer},{type:e.ChangeDetectorRef}]},k.propDecorators={_templates:[{type:e.ContentChildren,args:[v,{descendants:!0}]}],_scrollableDiv:[{type:e.ViewChild,args:["scrollableDiv",{static:!0}]}],_colElements:[{type:e.ViewChildren,args:["columnElement"]}],_rows:[{type:e.ViewChildren,args:[y]}],data:[{type:e.Input,args:["data"]}],columns:[{type:e.Input,args:["columns"]}],resizableColumns:[{type:e.Input,args:["resizableColumns"]}],selectable:[{type:e.Input,args:["selectable"]}],clickable:[{type:e.Input,args:["clickable"]}],multiple:[{type:e.Input,args:["multiple"]}],sortable:[{type:e.Input,args:["sortable"]}],sortBy:[{type:e.Input,args:["sortBy"]}],sortOrder:[{type:e.Input,args:["sortOrder"]}],sortChange:[{type:e.Output}],rowSelect:[{type:e.Output}],rowClick:[{type:e.Output}],selectAll:[{type:e.Output}],compareWith:[{type:e.Input}]};var S=function(){function t(t,i){this._elementRef=t,this._renderer=i,this._sortOrder=w.Ascending,this.name="",this.sortable=!1,this.active=!1,this.numeric=!1,this.isColumnSortOrder=!1,this.sortChange=new e.EventEmitter,this._renderer.addClass(this._elementRef.nativeElement,"td-data-table-column")}return Object.defineProperty(t.prototype,"projectedWidth",{get:function(){return this._columnContent&&this._columnContent.nativeElement?this._columnContent.nativeElement.getBoundingClientRect().width:100},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortOrder",{set:function(t){var e=t?t.toUpperCase():"ASC";if("DESC"!==e&&"ASC"!==e)throw new Error("[sortOrder] must be empty, ASC or DESC");this._sortOrder="ASC"===e?w.Ascending:w.Descending},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bindClickable",{get:function(){return this.sortable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bingSortable",{get:function(){return this.sortable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bindActive",{get:function(){return this.active},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bindNumeric",{get:function(){return this.numeric},enumerable:!1,configurable:!0}),t.prototype.handleClick=function(){this.sortable&&this.sortChange.emit({name:this.name,order:this._sortOrder})},t.prototype.isAscending=function(){return this._sortOrder===w.Ascending},t.prototype.isDescending=function(){return this._sortOrder===w.Descending},t}();S.decorators=[{type:e.Component,args:[{selector:"th[td-data-table-column]",template:'<span #columnContent class="td-data-table-heading">\n  <mat-icon\n    class="td-data-table-sort-icon"\n    *ngIf="sortable && numeric"\n    [class.mat-asc]="isAscending()"\n    [class.mat-desc]="isDescending()"\n  >\n    arrow_upward\n  </mat-icon>\n  <span>\n    <ng-content></ng-content>\n  </span>\n  <mat-icon\n    class="td-data-table-sort-icon"\n    *ngIf="sortable && !numeric"\n    [class.mat-asc]="isAscending()"\n    [class.mat-desc]="isDescending()"\n    [class.display-numeric]="isColumnSortOrder"\n  >\n    arrow_upward\n  </mat-icon>\n</span>\n<ng-content select="[td-column-resizer]"></ng-content>\n',styles:[":host{padding:0;position:relative;text-align:left;vertical-align:middle;white-space:nowrap}:host>.td-data-table-heading{padding:0 28px}:host:first-child>.td-data-table-heading{padding-left:24px;padding-right:0}html[dir=rtl] :host:first-child>.td-data-table-heading{padding-left:0}body[dir=rtl] :host:first-child>.td-data-table-heading{padding-left:0}[dir=rtl] :host:first-child>.td-data-table-heading{padding-left:0}html[dir=rtl] :host:first-child>.td-data-table-heading{padding-right:24px;unicode-bidi:embed}body[dir=rtl] :host:first-child>.td-data-table-heading{padding-right:24px;unicode-bidi:embed}[dir=rtl] :host:first-child>.td-data-table-heading{padding-right:24px;unicode-bidi:embed}:host:first-child>.td-data-table-heading bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host:first-child>.td-data-table-heading bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}:host:last-child>.td-data-table-heading{padding-left:28px;padding-right:24px}html[dir=rtl] :host:last-child>.td-data-table-heading{padding-left:24px}body[dir=rtl] :host:last-child>.td-data-table-heading{padding-left:24px}[dir=rtl] :host:last-child>.td-data-table-heading{padding-left:24px}html[dir=rtl] :host:last-child>.td-data-table-heading{padding-right:28px;unicode-bidi:embed}body[dir=rtl] :host:last-child>.td-data-table-heading{padding-right:28px;unicode-bidi:embed}[dir=rtl] :host:last-child>.td-data-table-heading{padding-right:28px;unicode-bidi:embed}:host:last-child>.td-data-table-heading bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host:last-child>.td-data-table-heading bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}:host mat-icon{font-size:16px!important;height:16px;line-height:16px!important;width:16px}:host mat-icon.td-data-table-sort-icon{opacity:0;position:absolute;top:0;transition:transform .25s}:host mat-icon.td-data-table-sort-icon.display-numeric{right:0}:host mat-icon.td-data-table-sort-icon.mat-asc{-ms-transform:rotate(0deg);transform:rotate(0deg)}:host mat-icon.td-data-table-sort-icon.mat-desc{-ms-transform:rotate(180deg);transform:rotate(180deg)}:host.mat-active.mat-sortable mat-icon.td-data-table-sort-icon,:host:hover.mat-sortable mat-icon.td-data-table-sort-icon{opacity:1}html[dir=rtl] :host{text-align:right;unicode-bidi:embed}body[dir=rtl] :host{text-align:right;unicode-bidi:embed}[dir=rtl] :host{text-align:right;unicode-bidi:embed}:host bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}:host>*{vertical-align:middle}:host.mat-clickable{cursor:pointer}:host.mat-clickable:focus{outline:none}:host .td-data-table-heading{display:inline-block;position:relative}:host.mat-numeric{text-align:right}html[dir=rtl] :host.mat-numeric{text-align:left;unicode-bidi:embed}body[dir=rtl] :host.mat-numeric{text-align:left;unicode-bidi:embed}[dir=rtl] :host.mat-numeric{text-align:left;unicode-bidi:embed}:host.mat-numeric bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host.mat-numeric bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}:host.mat-numeric mat-icon.td-data-table-sort-icon{margin-left:-22px;margin-right:0}html[dir=rtl] :host.mat-numeric mat-icon.td-data-table-sort-icon{margin-left:0}body[dir=rtl] :host.mat-numeric mat-icon.td-data-table-sort-icon{margin-left:0}[dir=rtl] :host.mat-numeric mat-icon.td-data-table-sort-icon{margin-left:0}html[dir=rtl] :host.mat-numeric mat-icon.td-data-table-sort-icon{margin-right:-22px;unicode-bidi:embed}body[dir=rtl] :host.mat-numeric mat-icon.td-data-table-sort-icon{margin-right:-22px;unicode-bidi:embed}[dir=rtl] :host.mat-numeric mat-icon.td-data-table-sort-icon{margin-right:-22px;unicode-bidi:embed}:host.mat-numeric mat-icon.td-data-table-sort-icon bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host.mat-numeric mat-icon.td-data-table-sort-icon bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}:host:not(.mat-numeric) mat-icon.td-data-table-sort-icon{margin-left:6px;margin-right:0}html[dir=rtl] :host:not(.mat-numeric) mat-icon.td-data-table-sort-icon{margin-left:0}body[dir=rtl] :host:not(.mat-numeric) mat-icon.td-data-table-sort-icon{margin-left:0}[dir=rtl] :host:not(.mat-numeric) mat-icon.td-data-table-sort-icon{margin-left:0}html[dir=rtl] :host:not(.mat-numeric) mat-icon.td-data-table-sort-icon{margin-right:6px;unicode-bidi:embed}body[dir=rtl] :host:not(.mat-numeric) mat-icon.td-data-table-sort-icon{margin-right:6px;unicode-bidi:embed}[dir=rtl] :host:not(.mat-numeric) mat-icon.td-data-table-sort-icon{margin-right:6px;unicode-bidi:embed}:host:not(.mat-numeric) mat-icon.td-data-table-sort-icon bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host:not(.mat-numeric) mat-icon.td-data-table-sort-icon bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}"]}]}],S.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},S.propDecorators={_columnContent:[{type:e.ViewChild,args:["columnContent",{read:e.ElementRef,static:!0}]}],name:[{type:e.Input}],sortable:[{type:e.Input}],active:[{type:e.Input}],numeric:[{type:e.Input}],isColumnSortOrder:[{type:e.Input}],sortOrder:[{type:e.Input,args:["sortOrder"]}],sortChange:[{type:e.Output}],bindClickable:[{type:e.HostBinding,args:["class.mat-clickable"]}],bingSortable:[{type:e.HostBinding,args:["class.mat-sortable"]}],bindActive:[{type:e.HostBinding,args:["class.mat-active"]}],bindNumeric:[{type:e.HostBinding,args:["class.mat-numeric"]}],handleClick:[{type:e.HostListener,args:["click"]}]};var R=function(){function t(t,e){this._elementRef=t,this._renderer=e,this.numeric=!1,this._renderer.addClass(this._elementRef.nativeElement,"td-data-table-cell")}return Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bindNumeric",{get:function(){return this.numeric},enumerable:!1,configurable:!0}),t}();R.decorators=[{type:e.Component,args:[{selector:"td[td-data-table-cell]",template:'<div\n  class="td-data-table-cell-content-wrapper"\n  [class.td-data-table-cell-numeric]="numeric"\n  [class.td-data-table-cell-align-center]="align === \'center\'"\n  [class.td-data-table-cell-align-end]="align === \'end\'"\n  [class.td-data-table-cell-align-start]="align === \'start\'"\n>\n  <ng-content></ng-content>\n</div>\n',styles:[":host{padding:0;text-align:left;vertical-align:middle}html[dir=rtl] :host{text-align:right;unicode-bidi:embed}body[dir=rtl] :host{text-align:right;unicode-bidi:embed}[dir=rtl] :host{text-align:right;unicode-bidi:embed}:host bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}:host>.td-data-table-cell-content-wrapper{-ms-flex-align:center;-ms-flex-direction:row;-ms-flex-line-pack:center;-ms-flex-pack:start;align-content:center;align-items:center;box-sizing:border-box;display:-ms-flexbox;display:flex;flex-direction:row;justify-content:flex-start;max-width:100%;padding:0 28px}:host>.td-data-table-cell-content-wrapper.td-data-table-cell-numeric{-ms-flex-pack:end;justify-content:flex-end}:host>.td-data-table-cell-content-wrapper.td-data-table-cell-align-start{-ms-flex-pack:start;justify-content:flex-start}:host>.td-data-table-cell-content-wrapper.td-data-table-cell-align-end{-ms-flex-pack:end;justify-content:flex-end}:host>.td-data-table-cell-content-wrapper.td-data-table-cell-align-center{-ms-flex-pack:center;justify-content:center}:host:first-child>.td-data-table-cell-content-wrapper{padding-left:24px;padding-right:0}html[dir=rtl] :host:first-child>.td-data-table-cell-content-wrapper{padding-left:0}body[dir=rtl] :host:first-child>.td-data-table-cell-content-wrapper{padding-left:0}[dir=rtl] :host:first-child>.td-data-table-cell-content-wrapper{padding-left:0}html[dir=rtl] :host:first-child>.td-data-table-cell-content-wrapper{padding-right:24px;unicode-bidi:embed}body[dir=rtl] :host:first-child>.td-data-table-cell-content-wrapper{padding-right:24px;unicode-bidi:embed}[dir=rtl] :host:first-child>.td-data-table-cell-content-wrapper{padding-right:24px;unicode-bidi:embed}:host:first-child>.td-data-table-cell-content-wrapper bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host:first-child>.td-data-table-cell-content-wrapper bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}:host:last-child>.td-data-table-cell-content-wrapper{padding-left:28px;padding-right:24px}html[dir=rtl] :host:last-child>.td-data-table-cell-content-wrapper{padding-left:24px}body[dir=rtl] :host:last-child>.td-data-table-cell-content-wrapper{padding-left:24px}[dir=rtl] :host:last-child>.td-data-table-cell-content-wrapper{padding-left:24px}html[dir=rtl] :host:last-child>.td-data-table-cell-content-wrapper{padding-right:28px;unicode-bidi:embed}body[dir=rtl] :host:last-child>.td-data-table-cell-content-wrapper{padding-right:28px;unicode-bidi:embed}[dir=rtl] :host:last-child>.td-data-table-cell-content-wrapper{padding-right:28px;unicode-bidi:embed}:host:last-child>.td-data-table-cell-content-wrapper bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host:last-child>.td-data-table-cell-content-wrapper bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}:host>*{vertical-align:middle}:host.mat-clickable{cursor:pointer}:host.mat-clickable:focus{outline:none}:host.mat-numeric{text-align:right}html[dir=rtl] :host.mat-numeric{text-align:left;unicode-bidi:embed}body[dir=rtl] :host.mat-numeric{text-align:left;unicode-bidi:embed}[dir=rtl] :host.mat-numeric{text-align:left;unicode-bidi:embed}:host.mat-numeric bdo[dir=rtl]{direction:rtl;unicode-bidi:bidi-override}:host.mat-numeric bdo[dir=ltr]{direction:ltr;unicode-bidi:bidi-override}"]}]}],R.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},R.propDecorators={numeric:[{type:e.Input}],align:[{type:e.Input}],bindNumeric:[{type:e.HostBinding,args:["class.mat-numeric"]}]};var O=function(t,e){this._elementRef=t,this._renderer=e,this._renderer.addClass(this._elementRef.nativeElement,"td-data-table")};O.decorators=[{type:e.Component,args:[{selector:"table[td-data-table]",template:"<ng-content></ng-content>\n",styles:[":host{border-collapse:collapse;border-spacing:0;overflow:hidden;position:relative;width:100%}"]}]}],O.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]};var E=function(){function t(){}return t.prototype.filterData=function(t,e,i,n){void 0===i&&(i=!1);var r=e?i?e.toLowerCase():e:"";return r&&(t=t.filter((function(t){return void 0!==Object.keys(t).find((function(e){if(!n||-1===n.indexOf(e)){var a=""+t[e];return(i?a.toLowerCase():a).indexOf(r)>-1}}))}))),t},t.prototype.sortData=function(t,e,i){return void 0===i&&(i=w.Ascending),e&&(t=Array.from(t)).sort((function(t,n){var r=t[e],a=n[e],o=0;return Number.isNaN(Number.parseFloat(r))||Number.isNaN(Number.parseFloat(a))?r<a?o=-1:r>a&&(o=1):o=Number.parseFloat(r)-Number.parseFloat(a),o*(i===w.Descending?-1:1)})),t},t.prototype.pageData=function(t,e,i){return e>=1&&(t=t.slice(e-1,i)),t},t}();E.decorators=[{type:e.Injectable}];var D=[k,v,S,R,y,_,O],j=function(){};j.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,n.MatCheckboxModule,r.MatTooltipModule,a.MatIconModule,o.MatPseudoCheckboxModule],declarations:[D],exports:[D],providers:[E]}]}],t.CovalentDataTableModule=j,t.TdDataTableBase=x,t.TdDataTableCellComponent=R,t.TdDataTableColumnComponent=S,t.TdDataTableColumnRowComponent=_,t.TdDataTableComponent=k,t.TdDataTableRowComponent=y,t.TdDataTableService=E,t.TdDataTableSortingOrder=w,t.TdDataTableTableComponent=O,t.TdDataTableTemplateDirective=v,t._TdDataTableMixinBase=C,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=covalent-core-data-table.umd.min.js.map