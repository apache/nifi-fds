{"version":3,"sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../src/platform/core/side-sheet/side-sheet.animation.ts","../../../../src/platform/core/side-sheet/side-sheet.config.ts","../../../../src/platform/core/side-sheet/side-sheet-container.ts","../../../../src/platform/core/side-sheet/side-sheet-ref.ts","../../../../src/platform/core/side-sheet/side-sheet.ts","../../../../src/platform/core/side-sheet/side-sheet.content-directives.ts","../../../../src/platform/core/side-sheet/side-sheet.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","__","this","constructor","create","__read","o","n","m","Symbol","iterator","r","e","i","ar","next","done","push","value","error","__spread","arguments","length","concat","tdSideSheetAnimations","sideSheetContainer","trigger","state","style","transform","opacity","transition","animate","AnimationDurations","ENTERING","AnimationCurves","ACCELERATION_CURVE","EXITING","CovalentSideSheetConfig","_super","MatDialogConfig","_getFocusedElementPierceShadowDom","activeElement","document","shadowRoot","newActiveElement","_CovalentSideSheetContainerBase","_elementRef","_focusTrapFactory","_changeDetectorRef","_document","_config","_focusMonitor","_this","_animationStateChanged","EventEmitter","_elementFocusedBeforeSideSheetWasOpened","_closeInteractionType","attachDomPortal","portal","_portalOutlet","_ariaLabelledBy","ariaLabelledBy","_initializeWithAttachedContent","_setupFocusTrap","_capturePreviouslyFocusedElement","attachComponentPortal","attachTemplatePortal","_recaptureFocus","_containsFocus","_trapFocus","element","nativeElement","autoFocus","_focusTrap","focusInitialElementWhenReady","then","focusedSuccessfully","_focusSideSheetContainer","focus","_restoreFocus","previousElement","restoreFocus","body","contains","focusVia","destroy","BasePortalOutlet","Directive","ElementRef","FocusTrapFactory","ChangeDetectorRef","Optional","type","Inject","args","DOCUMENT","FocusMonitor","ViewChild","CdkPortalOutlet","static","CovalentSideSheetContainer","apply","_state","_onAnimationDone","_a","toState","totalTime","_onAnimationStart","_startExitAnimation","markForCheck","Component","selector","template","encapsulation","ViewEncapsulation","None","changeDetection","ChangeDetectionStrategy","Default","animations","host","class","tabindex","aria-modal","[id]","[attr.role]","[attr.aria-labelledby]","[attr.aria-label]","[attr.aria-describedby]","[@sideSheetContainer]","(@sideSheetContainer.start)","(@sideSheetContainer.done)","uniqueId","CovalentSideSheetRef","overlayRef","_containerInstance","id","MatDialogRef","_closeSideSheetVia","ref","interactionType","result","undefined","close","_CovalentSideSheetBase","_overlay","_injector","_defaultOptions","_parentSideSheet","_sideSheetRefConstructor","_sideSheetContainerType","_sideSheetDataToken","_openSideSheetsAtThisLevel","_afterAllClosedAtThisLevel","Subject","_afterOpenedAtThisLevel","defaultSidebarConfig","minWidth","maxWidth","defineProperty","openSideSheets","open","componentOrTemplateRef","config","assign","_createOverlay","_attachSideSheetContainer","sideSheetRef","_attachSideSheetContent","prevSideSheetRef","slice","prevOverlayRef","overlayElement","COMPLEX","DECELERATION_CURVE","innerWidth","pipe","filter","event","take","subscribe","updateSize","afterClosed","_removeOpenSideSheet","ngOnDestroy","_closeSideSheets","complete","_animationStateSubscriptions","unsubscribe","closeAll","overlayConfig","OverlayConfig","positionStrategy","position","global","scrollStrategy","scrollStrategies","block","panelClass","hasBackdrop","direction","minHeight","getConfig","right","overlay","userInjector","viewContainerRef","injector","Injector","parent","providers","provide","useValue","containerPortal","ComponentPortal","componentFactoryResolver","attach","instance","TemplateRef","TemplatePortal","$implicit","data","_createInjector","contentRef","componentInstance","width","height","get","Directionality","InjectFlags","change","of","index","indexOf","splice","sideSheets","Overlay","Type","InjectionToken","CovalentSideSheet","defaultOptions","parentSideSheet","MAT_DIALOG_DATA","Injectable","decorators","MAT_DIALOG_DEFAULT_OPTIONS","SkipSelf","dialogElementUid","CovalentSideSheetClose","dialogRef","_dialog","ngOnInit","getClosestDialog","ngOnChanges","changes","proxiedChange","dialogResult","currentValue","_onButtonClick","screenX","screenY","exportAs","(click)","[attr.type]","Input","CovalentSideSheetTitle","_dialogRef","Promise","resolve","container","openDialogs","parentElement","classList","find","dialog","NgModule","declarations","CovalentSideSheetActions","CovalentSideSheetContent","CovalentSideSheetWrapper","exports","imports","PortalModule","MatDialogModule","MatCommonModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { animate, state, style, transition, trigger, AnimationTriggerMetadata } from '@angular/animations';\nimport { AnimationCurves, AnimationDurations } from '@angular/material/core';\n\nexport const tdSideSheetAnimations: {\n  readonly sideSheetContainer: AnimationTriggerMetadata;\n} = {\n  /** Animation that is applied on the side-sheet container by default. */\n  sideSheetContainer: trigger('sideSheetContainer', [\n    state('void, exit', style({ transform: 'translateX(100%)' })),\n    state('enter', style({ transform: 'translateX(0%)', opacity: 1 })),\n    transition(\n      '* => enter',\n      animate(\n        `${AnimationDurations.ENTERING} ${AnimationCurves.ACCELERATION_CURVE}`,\n        style({ transform: 'translateX(0)', opacity: 1 }),\n      ),\n    ),\n    transition(\n      '* => void, * => exit',\n      animate(\n        `${AnimationDurations.EXITING} ${AnimationCurves.ACCELERATION_CURVE}`,\n        style({ transform: 'translateX(100%)' }),\n      ),\n    ),\n  ]),\n};\n","import { MatDialogConfig } from '@angular/material/dialog';\n\nexport class CovalentSideSheetConfig<D = any> extends MatDialogConfig<D> {}\n","/* tslint:disable */\nimport { AnimationEvent } from '@angular/animations';\nimport { FocusMonitor, FocusOrigin, FocusTrap, FocusTrapFactory } from '@angular/cdk/a11y';\nimport { BasePortalOutlet, CdkPortalOutlet, ComponentPortal, DomPortal, TemplatePortal } from '@angular/cdk/portal';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ComponentRef,\n  Directive,\n  ElementRef,\n  EmbeddedViewRef,\n  EventEmitter,\n  Inject,\n  Optional,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { tdSideSheetAnimations } from './side-sheet.animation';\nimport { CovalentSideSheetConfig } from './side-sheet.config';\n\nexport function _getFocusedElementPierceShadowDom(): HTMLElement | null {\n  let activeElement =\n    typeof document !== 'undefined' && document ? (document.activeElement as HTMLElement | null) : null;\n\n  while (activeElement && activeElement.shadowRoot) {\n    const newActiveElement = activeElement.shadowRoot.activeElement as HTMLElement | null;\n    if (newActiveElement === activeElement) {\n      break;\n    } else {\n      activeElement = newActiveElement;\n    }\n  }\n\n  return activeElement;\n}\n\n/**\n * Base class for the `CovalentSideSheetContainer`. The base class does not implement\n * animations as these are left to implementers of the side-sheet container.\n */\n@Directive()\nexport abstract class _CovalentSideSheetContainerBase extends BasePortalOutlet {\n  protected _document: Document;\n\n  /** The portal outlet inside of this container into which the side-sheet content will be loaded. */\n  @ViewChild(CdkPortalOutlet, { static: true }) _portalOutlet: CdkPortalOutlet;\n\n  /** The class that traps and manages focus within the side-sheet. */\n  private _focusTrap: FocusTrap;\n\n  /** Emits when an animation state changes. */\n  _animationStateChanged = new EventEmitter<{\n    state: 'opened' | 'opening' | 'closing' | 'closed';\n    totalTime: number;\n  }>();\n\n  /** Element that was focused before the side-sheet was opened. Save this to restore upon close. */\n  private _elementFocusedBeforeSideSheetWasOpened: HTMLElement | null = null;\n\n  /**\n   * Type of interaction that led to the side-sheet being closed. This is used to determine\n   * whether the focus style will be applied when returning focus to its original location\n   * after the side-sheet is closed.\n   */\n  _closeInteractionType: FocusOrigin | null = null;\n\n  /** ID of the element that should be considered as the side-sheet's label. */\n  _ariaLabelledBy: string | null;\n\n  /** ID for the container DOM element. */\n  _id: string;\n\n  constructor(\n    protected _elementRef: ElementRef,\n    protected _focusTrapFactory: FocusTrapFactory,\n    protected _changeDetectorRef: ChangeDetectorRef,\n    @Optional() @Inject(DOCUMENT) _document: any,\n    /** The side-sheet configuration. */\n    public _config: CovalentSideSheetConfig,\n    private _focusMonitor?: FocusMonitor,\n  ) {\n    super();\n    this._ariaLabelledBy = _config.ariaLabelledBy || null;\n    this._document = _document;\n  }\n\n  /** Starts the side-sheet exit animation. */\n  abstract _startExitAnimation(): void;\n\n  /** Initializes the side-sheet container with the attached content. */\n  _initializeWithAttachedContent() {\n    this._setupFocusTrap();\n    // Save the previously focused element. This element will be re-focused\n    // when the side-sheet closes.\n    this._capturePreviouslyFocusedElement();\n  }\n\n  /**\n   * Attach a ComponentPortal as content to this side-sheet container.\n   * @param portal Portal to be attached as the side-sheet content.\n   */\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    return this._portalOutlet.attachComponentPortal(portal);\n  }\n\n  /**\n   * Attach a TemplatePortal as content to this side-sheet container.\n   * @param portal Portal to be attached as the side-sheet content.\n   */\n  attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\n    return this._portalOutlet.attachTemplatePortal(portal);\n  }\n\n  /**\n   * Attaches a DOM portal to the side-sheet container.\n   * @param portal Portal to be attached.\n   * @deprecated To be turned into a method.\n   */\n  attachDomPortal = (portal: DomPortal) => {\n    return this._portalOutlet.attachDomPortal(portal);\n  };\n\n  /** Moves focus back into the side-sheet if it was moved out. */\n  _recaptureFocus() {\n    if (!this._containsFocus()) {\n      this._trapFocus();\n    }\n  }\n\n  /**\n   * Moves the focus inside the focus trap. When autoFocus is not set to 'side-sheet', if focus\n   * cannot be moved then focus will go to the side-sheet container.\n   */\n  protected _trapFocus() {\n    const element = this._elementRef.nativeElement;\n    if (!this._config.autoFocus) {\n      if (!this._containsFocus()) {\n        element.focus();\n      }\n    } else {\n      this._focusTrap.focusInitialElementWhenReady().then((focusedSuccessfully) => {\n        // If we weren't able to find a focusable element in the side-sheet, then focus the side-sheet\n        // container instead.\n        if (!focusedSuccessfully) {\n          this._focusSideSheetContainer();\n        }\n      });\n    }\n  }\n\n  /** Restores focus to the element that was focused before the side-sheet opened. */\n  protected _restoreFocus() {\n    const previousElement = this._elementFocusedBeforeSideSheetWasOpened;\n\n    // We need the extra check, because IE can set the `activeElement` to null in some cases.\n    if (this._config.restoreFocus && previousElement && typeof previousElement.focus === 'function') {\n      const activeElement = _getFocusedElementPierceShadowDom();\n      const element = this._elementRef.nativeElement;\n\n      // Make sure that focus is still inside the side-sheet or is on the body (usually because a\n      // non-focusable element like the backdrop was clicked) before moving it. It's possible that\n      // the consumer moved it themselves before the animation was done, in which case we shouldn't\n      // do anything.\n      if (\n        !activeElement ||\n        activeElement === this._document.body ||\n        activeElement === element ||\n        element.contains(activeElement)\n      ) {\n        if (this._focusMonitor) {\n          this._focusMonitor.focusVia(previousElement, this._closeInteractionType);\n          this._closeInteractionType = null;\n        } else {\n          previousElement.focus();\n        }\n      }\n    }\n\n    if (this._focusTrap) {\n      this._focusTrap.destroy();\n    }\n  }\n\n  /** Sets up the focus trap. */\n  private _setupFocusTrap() {\n    this._focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement);\n  }\n\n  /** Captures the element that was focused before the side-sheet was opened. */\n  private _capturePreviouslyFocusedElement() {\n    if (this._document) {\n      this._elementFocusedBeforeSideSheetWasOpened = _getFocusedElementPierceShadowDom();\n    }\n  }\n\n  /** Focuses the side-sheet container. */\n  private _focusSideSheetContainer() {\n    // Note that there is no focus method when rendering on the server.\n    if (this._elementRef.nativeElement.focus) {\n      this._elementRef.nativeElement.focus();\n    }\n  }\n\n  /** Returns whether focus is inside the side-sheet. */\n  private _containsFocus() {\n    const element = this._elementRef.nativeElement;\n    const activeElement = _getFocusedElementPierceShadowDom();\n    return element === activeElement || element.contains(activeElement);\n  }\n}\n\n/**\n * Internal component that wraps the generated side-sheet content.\n * This animation below is the only reason for duplicating most of the Material dialog code\n */\n@Component({\n  selector: 'td-side-sheet-container',\n  template: `\n    <ng-template cdkPortalOutlet></ng-template>\n  `,\n  styleUrls: ['side-sheet.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.Default,\n  animations: [tdSideSheetAnimations.sideSheetContainer],\n  host: {\n    'class': 'td-side-sheet-container',\n    'tabindex': '-1',\n    'aria-modal': 'true',\n    '[id]': '_id',\n    '[attr.role]': '_config.role',\n    '[attr.aria-labelledby]': '_config.ariaLabel ? null : _ariaLabelledBy',\n    '[attr.aria-label]': '_config.ariaLabel',\n    '[attr.aria-describedby]': '_config.ariaDescribedBy || null',\n    '[@sideSheetContainer]': '_state',\n    '(@sideSheetContainer.start)': '_onAnimationStart($event)',\n    '(@sideSheetContainer.done)': '_onAnimationDone($event)',\n  },\n})\nexport class CovalentSideSheetContainer extends _CovalentSideSheetContainerBase {\n  /** State of the side-sheet animation. */\n  _state: 'void' | 'enter' | 'exit' = 'enter';\n\n  /** Callback, invoked whenever an animation on the host completes. */\n  _onAnimationDone({ toState, totalTime }: AnimationEvent) {\n    if (toState === 'enter') {\n      this._trapFocus();\n      this._animationStateChanged.next({ state: 'opened', totalTime });\n    } else if (toState === 'exit') {\n      this._restoreFocus();\n      this._animationStateChanged.next({ state: 'closed', totalTime });\n    }\n  }\n\n  /** Callback, invoked when an animation on the host starts. */\n  _onAnimationStart({ toState, totalTime }: AnimationEvent) {\n    if (toState === 'enter') {\n      this._animationStateChanged.next({ state: 'opening', totalTime });\n    } else if (toState === 'exit' || toState === 'void') {\n      this._animationStateChanged.next({ state: 'closing', totalTime });\n    }\n  }\n\n  /** Starts the side-sheet exit animation. */\n  _startExitAnimation(): void {\n    this._state = 'exit';\n    this._changeDetectorRef.markForCheck();\n  }\n}\n","/* tslint:disable */\nimport { FocusOrigin } from '@angular/cdk/a11y';\nimport { OverlayRef } from '@angular/cdk/overlay';\nimport { MatDialogRef, _MatDialogContainerBase } from '@angular/material/dialog';\n\n// Counter for unique dialog ids.\nlet uniqueId = 0;\n\n// Create a new side sheet ref to change the id of the ref\nexport class CovalentSideSheetRef<T, R = any> extends MatDialogRef<T, R> {\n  constructor(\n    public overlayRef: OverlayRef,\n    public _containerInstance: _MatDialogContainerBase,\n    readonly id: string = `td-side-sheet-${uniqueId++}`,\n  ) {\n    super(overlayRef, _containerInstance, id);\n  }\n}\n\nexport function _closeSideSheetVia<R>(ref: CovalentSideSheetRef<R>, interactionType: FocusOrigin, result?: R) {\n  // Some mock dialog ref instances in tests do not have the `_containerInstance` property.\n  // For those, we keep the behavior as is and do not deal with the interaction type.\n  if (ref._containerInstance !== undefined) {\n    ref._containerInstance._closeInteractionType = interactionType;\n  }\n  return ref.close(result);\n}\n","/* tslint:disable */\nimport {\n  Directive,\n  Inject,\n  Injectable,\n  InjectFlags,\n  InjectionToken,\n  Injector,\n  OnDestroy,\n  Optional,\n  SkipSelf,\n  StaticProvider,\n  TemplateRef,\n  Type,\n} from '@angular/core';\nimport { Overlay, OverlayConfig, OverlayRef, GlobalPositionStrategy } from '@angular/cdk/overlay';\nimport { ComponentPortal, ComponentType, TemplatePortal } from '@angular/cdk/portal';\nimport { MAT_DIALOG_DATA, MAT_DIALOG_DEFAULT_OPTIONS, _MatDialogContainerBase } from '@angular/material/dialog';\nimport { AnimationCurves, AnimationDurations } from '@angular/material/core';\nimport { CovalentSideSheetContainer, _CovalentSideSheetContainerBase } from './side-sheet-container';\nimport { Subject, Subscription, of } from 'rxjs';\nimport { filter, take } from 'rxjs/operators';\nimport { Directionality } from '@angular/cdk/bidi';\n\nimport { CovalentSideSheetRef } from './side-sheet-ref';\nimport { CovalentSideSheetConfig } from './side-sheet.config';\n\n@Directive()\nexport class _CovalentSideSheetBase<C extends _CovalentSideSheetContainerBase> implements OnDestroy {\n  private _openSideSheetsAtThisLevel: CovalentSideSheetRef<unknown>[] = [];\n  private readonly _afterAllClosedAtThisLevel = new Subject<void>();\n  private readonly _afterOpenedAtThisLevel = new Subject<CovalentSideSheetRef<unknown>>();\n  private _animationStateSubscriptions: Subscription;\n\n  private defaultSidebarConfig = {\n    minWidth: '400px',\n    maxWidth: '100vw',\n  };\n\n  constructor(\n    private _overlay: Overlay,\n    private _injector: Injector,\n    private _defaultOptions: CovalentSideSheetConfig | undefined,\n    private _parentSideSheet: _CovalentSideSheetBase<C> | undefined,\n    private _sideSheetRefConstructor: Type<CovalentSideSheetRef<any>>,\n    private _sideSheetContainerType: Type<C>,\n    private _sideSheetDataToken: InjectionToken<unknown>,\n  ) {}\n\n  /** Keeps track of the currently-open side-sheets. */\n  get openSideSheets(): CovalentSideSheetRef<unknown>[] {\n    return this._parentSideSheet ? this._parentSideSheet.openSideSheets : this._openSideSheetsAtThisLevel;\n  }\n\n  open<T, D = unknown, R = unknown>(\n    componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\n    config?: CovalentSideSheetConfig<D>,\n  ): CovalentSideSheetRef<T, R> {\n    config = { ...(this._defaultOptions || new CovalentSideSheetConfig()), ...this.defaultSidebarConfig, ...config };\n\n    const overlayRef = this._createOverlay(config);\n    const sideSheetContainer = this._attachSideSheetContainer(overlayRef, config);\n    const sideSheetRef = this._attachSideSheetContent<T, R>(\n      componentOrTemplateRef,\n      sideSheetContainer,\n      overlayRef,\n      config,\n    );\n    const prevSideSheetRef: CovalentSideSheetRef<unknown> = this.openSideSheets.slice(-1)[0];\n    const prevOverlayRef = prevSideSheetRef?.overlayRef;\n\n    // Animate previous side sheet to full width\n    if (prevOverlayRef?.overlayElement) {\n      prevOverlayRef.overlayElement.style.transition = `${AnimationDurations.COMPLEX} ${AnimationCurves.DECELERATION_CURVE}`;\n      prevOverlayRef.overlayElement.style.minWidth = `${(window as any).innerWidth}px`;\n    }\n\n    // Revert the previous side sheet config & size\n    sideSheetRef._containerInstance._animationStateChanged\n      .pipe(\n        filter((event) => event.state === 'closing' && !!(prevSideSheetRef && prevOverlayRef)),\n        take(1),\n      )\n      .subscribe(() => {\n        prevOverlayRef.overlayElement.style.transition = `${AnimationDurations.EXITING} ${AnimationCurves.DECELERATION_CURVE}`;\n        prevSideSheetRef.updateSize();\n      });\n\n    // Add new side sheet to open list\n    this.openSideSheets.push(sideSheetRef);\n\n    // Remove side sheet ref after closed\n    sideSheetRef\n      .afterClosed()\n      .pipe(take(1))\n      .subscribe(() => this._removeOpenSideSheet(sideSheetRef));\n\n    // Notify the side-sheet container that the content has been attached.\n    sideSheetContainer._initializeWithAttachedContent();\n\n    return sideSheetRef;\n  }\n\n  ngOnDestroy() {\n    // Only close the side-sheets at this level on destroy\n    // since the parent service may still be active.\n    this._closeSideSheets(this._openSideSheetsAtThisLevel);\n    this._afterAllClosedAtThisLevel.complete();\n    this._afterOpenedAtThisLevel.complete();\n    // Clean up any subscriptions to side-sheet that never finished opening.\n    if (this._animationStateSubscriptions) {\n      this._animationStateSubscriptions.unsubscribe();\n    }\n  }\n\n  /**\n   * Closes all of the currently-open side-sheets.\n   */\n  closeAll(): void {\n    this._closeSideSheets(this.openSideSheets);\n  }\n\n  private _createOverlay<T>(config): OverlayRef {\n    const overlayConfig = new OverlayConfig({\n      positionStrategy: this._overlay.position().global(),\n      scrollStrategy: this._overlay.scrollStrategies.block(),\n      panelClass: config.panelClass,\n      hasBackdrop: config.hasBackdrop,\n      direction: config.direction,\n      minWidth: config.minWidth,\n      minHeight: config.minHeight,\n      maxWidth: config.maxWidth,\n    });\n    const overlayRef = this._overlay.create(overlayConfig);\n    const positionStrategy = overlayRef.getConfig().positionStrategy as GlobalPositionStrategy;\n    positionStrategy.right('0px');\n\n    return overlayRef;\n  }\n\n  /**\n   * Attaches a container to a side-sheets's already-created overlay.\n   * @param overlay Reference to the side-sheet's underlying overlay.\n   * @param config The side-sheet configuration.\n   * @returns A promise resolving to a ComponentRef for the attached container.\n   */\n  private _attachSideSheetContainer(overlay: OverlayRef, config: CovalentSideSheetConfig): C {\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n    const injector = Injector.create({\n      parent: userInjector || this._injector,\n      providers: [{ provide: CovalentSideSheetConfig, useValue: config }],\n    });\n\n    const containerPortal = new ComponentPortal(\n      this._sideSheetContainerType,\n      config.viewContainerRef,\n      injector,\n      config.componentFactoryResolver,\n    );\n    const containerRef = overlay.attach<C>(containerPortal);\n\n    return containerRef.instance;\n  }\n\n  /**\n   * Attaches the user-provided component to the already-created side sheet container.\n   * @param componentOrTemplateRef The type of component being loaded into the side-sheet,\n   *     or a TemplateRef to instantiate as the content.\n   * @param dialogContainer Reference to the wrapping side-sheet container.\n   * @param overlayRef Reference to the overlay in which the side-sheet resides.\n   * @param config The side-sheet configuration.\n   * @returns A promise resolving to the CovalentSideSheetRef that should be returned to the user.\n   */\n  private _attachSideSheetContent<T, R>(\n    componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\n    sideSheetContainer: C,\n    overlayRef: OverlayRef,\n    config: CovalentSideSheetConfig,\n  ): CovalentSideSheetRef<T, R> {\n    // Create a reference to the side-sheet we're creating in order to give the user a handle\n    // to modify and close it.\n    const sideSheetRef = new this._sideSheetRefConstructor(overlayRef, sideSheetContainer, config.id);\n\n    if (componentOrTemplateRef instanceof TemplateRef) {\n      sideSheetContainer.attachTemplatePortal(\n        new TemplatePortal<T>(componentOrTemplateRef, null!, <any>{\n          $implicit: config.data,\n          sideSheetRef,\n        }),\n      );\n    } else {\n      const injector = this._createInjector<T>(config, sideSheetRef, sideSheetContainer);\n      const contentRef = sideSheetContainer.attach<T>(\n        new ComponentPortal(componentOrTemplateRef, config.viewContainerRef, injector),\n      );\n      sideSheetRef.componentInstance = contentRef.instance;\n    }\n\n    sideSheetRef.updateSize(config.width, config.height);\n\n    return sideSheetRef;\n  }\n\n  private _createInjector<T>(\n    config: CovalentSideSheetConfig,\n    sideSheetRef: CovalentSideSheetRef<T>,\n    sideSheetContainer: C,\n  ): Injector {\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n\n    // The side-sheet container should be provided as the side-sheet container and the side-sheet's\n    // content are created out of the same `ViewContainerRef` and as such, are siblings\n    // for injector purposes. To allow the hierarchy that is expected, the side-sheet\n    // container is explicitly provided in the injector.\n    const providers: StaticProvider[] = [\n      { provide: this._sideSheetContainerType, useValue: sideSheetContainer },\n      { provide: this._sideSheetDataToken, useValue: config.data },\n      { provide: this._sideSheetRefConstructor, useValue: sideSheetRef },\n    ];\n\n    if (\n      config.direction &&\n      (!userInjector || !userInjector.get<Directionality | null>(Directionality, null, InjectFlags.Optional))\n    ) {\n      providers.push({\n        provide: Directionality,\n        useValue: { value: config.direction, change: of() },\n      });\n    }\n\n    return Injector.create({ parent: userInjector || this._injector, providers });\n  }\n\n  /**\n   * Removes a side sheet from the array of open side sheets.\n   * @param sideSheetRef Side Sheet to be removed.\n   */\n  private _removeOpenSideSheet(sideSheetRef: CovalentSideSheetRef<unknown>) {\n    const index = this.openSideSheets.indexOf(sideSheetRef);\n\n    if (index > -1) {\n      this.openSideSheets.splice(index, 1);\n    }\n  }\n\n  /** Closes all of the side-sheet in an array. */\n  private _closeSideSheets(sideSheets: CovalentSideSheetRef<any>[]) {\n    let i = sideSheets.length;\n\n    while (i--) {\n      sideSheets[i].close();\n    }\n  }\n}\n\n/**\n * Service to open Covalent Design side-sheet.\n */\n@Injectable()\nexport class CovalentSideSheet extends _CovalentSideSheetBase<CovalentSideSheetContainer> {\n  constructor(\n    overlay: Overlay,\n    injector: Injector,\n    @Optional() @Inject(MAT_DIALOG_DEFAULT_OPTIONS) defaultOptions: CovalentSideSheetConfig,\n    @Optional() @SkipSelf() parentSideSheet: CovalentSideSheet,\n  ) {\n    super(\n      overlay,\n      injector,\n      defaultOptions,\n      parentSideSheet,\n      CovalentSideSheetRef,\n      CovalentSideSheetContainer,\n      MAT_DIALOG_DATA,\n    );\n  }\n}\n","/* tslint:disable */\nimport { Directive, Input, OnChanges, OnInit, Optional, SimpleChanges, ElementRef } from '@angular/core';\nimport { CovalentSideSheet } from './side-sheet';\nimport { _closeSideSheetVia, CovalentSideSheetRef } from './side-sheet-ref';\n\n/** Counter used to generate unique IDs for dialog elements. */\nlet dialogElementUid = 0;\n\n/**\n * Button that will close the current dialog.\n */\n@Directive({\n  selector: '[td-side-sheet-close], [CovalentSideSheetClose]',\n  exportAs: 'CovalentSideSheetClose',\n  host: {\n    '(click)': '_onButtonClick($event)',\n    '[attr.aria-label]': 'ariaLabel || null',\n    '[attr.type]': 'type',\n  },\n})\nexport class CovalentSideSheetClose implements OnInit, OnChanges {\n  /** Screenreader label for the button. */\n  @Input('aria-label') ariaLabel: string;\n\n  /** Default to \"button\" to prevents accidental form submits. */\n  @Input() type: 'submit' | 'button' | 'reset' = 'button';\n\n  /** Dialog close input. */\n  @Input('td-side-sheet-close') dialogResult: any;\n\n  @Input('CovalentSideSheetClose') _CovalentSideSheetClose: any;\n\n  constructor(\n    @Optional() public dialogRef: CovalentSideSheetRef<any>,\n    private _elementRef: ElementRef<HTMLElement>,\n    private _dialog: CovalentSideSheet,\n  ) {}\n\n  ngOnInit(): void {\n    if (!this.dialogRef) {\n      // When this directive is included in a dialog via TemplateRef (rather than being\n      // in a Component), the DialogRef isn't available via injection because embedded\n      // views cannot be given a custom injector. Instead, we look up the DialogRef by\n      // ID. This must occur in `onInit`, as the ID binding for the dialog container won't\n      // be resolved at constructor time.\n      this.dialogRef = getClosestDialog(this._elementRef, this._dialog.openSideSheets)!;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    const proxiedChange = changes['_CovalentSideSheetClose'] || changes['_CovalentSideSheetCloseResult'];\n\n    if (proxiedChange) {\n      this.dialogResult = proxiedChange.currentValue;\n    }\n  }\n\n  _onButtonClick(event: MouseEvent) {\n    // Determinate the focus origin using the click event, because using the FocusMonitor will\n    // result in incorrect origins. Most of the time, close buttons will be auto focused in the\n    // dialog, and therefore clicking the button won't result in a focus change. This means that\n    // the FocusMonitor won't detect any origin change, and will always output `program`.\n    _closeSideSheetVia(\n      this.dialogRef,\n      event.screenX === 0 && event.screenY === 0 ? 'keyboard' : 'mouse',\n      this.dialogResult,\n    );\n  }\n}\n\n/**\n * Title of a side sheet element. Stays fixed to the top of the side sheet when scrolling.\n */\n@Directive({\n  selector: '[td-side-sheet-title], [CovalentSideSheetTitle]',\n  exportAs: 'CovalentSideSheetTitle',\n  host: {\n    'class': 'td-side-sheet-title',\n    '[id]': 'id',\n  },\n})\nexport class CovalentSideSheetTitle implements OnInit {\n  /** Unique id for the dialog title. If none is supplied, it will be auto-generated. */\n  @Input() id: string = `td-side-sheet-title-${dialogElementUid++}`;\n\n  constructor(\n    // The dialog title directive is always used in combination with a `CovalentSideSheetRef`.\n    // tslint:disable-next-line: lightweight-tokens\n    @Optional() private _dialogRef: CovalentSideSheetRef<any>,\n    private _elementRef: ElementRef<HTMLElement>,\n    private _dialog: CovalentSideSheet,\n  ) {}\n\n  ngOnInit(): void {\n    if (this._dialogRef) {\n      Promise.resolve().then(() => {\n        const container = this._dialogRef._containerInstance;\n\n        if (container && !container._ariaLabelledBy) {\n          container._ariaLabelledBy = this.id;\n        }\n      });\n    } else {\n      this._dialogRef = getClosestDialog(this._elementRef, this._dialog.openSideSheets)!;\n    }\n  }\n}\n\n/**\n * Scrollable content container of a dialog.\n */\n@Directive({\n  selector: `[td-side-sheet-content], td-side-sheet-content, [CovalentSideSheetContent]`,\n  host: { class: 'td-side-sheet-content' },\n})\nexport class CovalentSideSheetContent {}\n\n/**\n * Container for the bottom action buttons in a dialog.\n * Stays fixed to the bottom when scrolling.\n */\n@Directive({\n  selector: `[td-side-sheet-actions], td-side-sheet-actions, [CovalentSideSheetActions]`,\n  host: { class: 'td-side-sheet-actions' },\n})\nexport class CovalentSideSheetActions {}\n\n/**\n * Container for the wrapper part of the dialog\n */\n@Directive({\n  selector: `[td-side-sheet-wrapper], td-side-sheet-wrapper, [CovalentSideSheetWrapper]`,\n  host: { class: 'td-side-sheet-wrapper' },\n})\nexport class CovalentSideSheetWrapper {}\n\n/**\n * Finds the closest CovalentSideSheetRef to an element by looking at the DOM.\n * @param element Element relative to which to look for a dialog.\n * @param openDialogs References to the currently-open dialogs.\n */\nfunction getClosestDialog(element: ElementRef<HTMLElement>, openDialogs: CovalentSideSheetRef<any>[]) {\n  let parent: HTMLElement | null = element.nativeElement.parentElement;\n\n  while (parent && !parent.classList.contains('td-side-sheet-container')) {\n    parent = parent.parentElement;\n  }\n\n  return parent ? openDialogs.find((dialog) => dialog.id === parent!.id) : null;\n}\n","import { NgModule } from '@angular/core';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { MatCommonModule } from '@angular/material/core';\nimport { MatDialogModule } from '@angular/material/dialog';\n\nimport { CovalentSideSheet } from './side-sheet';\nimport { CovalentSideSheetContainer } from './side-sheet-container';\nimport {\n  CovalentSideSheetActions,\n  CovalentSideSheetClose,\n  CovalentSideSheetContent,\n  CovalentSideSheetTitle,\n  CovalentSideSheetWrapper,\n} from './side-sheet.content-directives';\n\n@NgModule({\n  declarations: [\n    CovalentSideSheetContainer,\n    CovalentSideSheetActions,\n    CovalentSideSheetClose,\n    CovalentSideSheetContent,\n    CovalentSideSheetTitle,\n    CovalentSideSheetWrapper,\n  ],\n  exports: [\n    CovalentSideSheetActions,\n    CovalentSideSheetClose,\n    CovalentSideSheetContent,\n    CovalentSideSheetTitle,\n    CovalentSideSheetWrapper,\n  ],\n  imports: [PortalModule, MatDialogModule, MatCommonModule],\n  providers: [CovalentSideSheet],\n})\nexport class CovalentSideSheetModule {}\n"]}